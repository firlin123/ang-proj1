<div class="container">
  <div *ngFor="let square of squares">
    <input #in type="checkbox" [id]="square.name" (change)="square.checked = in.checked">
    <label [for]="square.name" [style.background]="square.color"></label>
  </div>
</div>
<button (click)="submit()">Submit</button>